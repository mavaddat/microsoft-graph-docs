---
description: "Automatically generated file. DO NOT MODIFY"
---

```java

// Code snippets are only available for the latest version. Current version is 6.x

GraphServiceClient graphClient = new GraphServiceClient(requestAdapter);

MdmWindowsInformationProtectionPolicy mdmWindowsInformationProtectionPolicy = new MdmWindowsInformationProtectionPolicy();
mdmWindowsInformationProtectionPolicy.setOdataType("#microsoft.graph.mdmWindowsInformationProtectionPolicy");
mdmWindowsInformationProtectionPolicy.setDisplayName("Display Name value");
mdmWindowsInformationProtectionPolicy.setDescription("Description value");
mdmWindowsInformationProtectionPolicy.setVersion("Version value");
mdmWindowsInformationProtectionPolicy.setEnforcementLevel(WindowsInformationProtectionEnforcementLevel.EncryptAndAuditOnly);
mdmWindowsInformationProtectionPolicy.setEnterpriseDomain("Enterprise Domain value");
LinkedList<WindowsInformationProtectionResourceCollection> enterpriseProtectedDomainNames = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection.setDisplayName("Display Name value");
LinkedList<String> resources = new LinkedList<String>();
resources.add("Resources value");
windowsInformationProtectionResourceCollection.setResources(resources);
enterpriseProtectedDomainNames.add(windowsInformationProtectionResourceCollection);
mdmWindowsInformationProtectionPolicy.setEnterpriseProtectedDomainNames(enterpriseProtectedDomainNames);
mdmWindowsInformationProtectionPolicy.setProtectionUnderLockConfigRequired(true);
WindowsInformationProtectionDataRecoveryCertificate dataRecoveryCertificate = new WindowsInformationProtectionDataRecoveryCertificate();
dataRecoveryCertificate.setOdataType("microsoft.graph.windowsInformationProtectionDataRecoveryCertificate");
dataRecoveryCertificate.setSubjectName("Subject Name value");
dataRecoveryCertificate.setDescription("Description value");
OffsetDateTime expirationDateTime = OffsetDateTime.parse("2016-12-31T23:57:57.2481234-08:00");
dataRecoveryCertificate.setExpirationDateTime(expirationDateTime);
byte[] certificate = Base64.getDecoder().decode("Y2VydGlmaWNhdGU=");
dataRecoveryCertificate.setCertificate(certificate);
mdmWindowsInformationProtectionPolicy.setDataRecoveryCertificate(dataRecoveryCertificate);
mdmWindowsInformationProtectionPolicy.setRevokeOnUnenrollDisabled(true);
mdmWindowsInformationProtectionPolicy.setRightsManagementServicesTemplateId(UUID.fromString("abf7b16f-b16f-abf7-6fb1-f7ab6fb1f7ab"));
mdmWindowsInformationProtectionPolicy.setAzureRightsManagementServicesAllowed(true);
mdmWindowsInformationProtectionPolicy.setIconsVisible(true);
LinkedList<WindowsInformationProtectionApp> protectedApps = new LinkedList<WindowsInformationProtectionApp>();
WindowsInformationProtectionStoreApp windowsInformationProtectionApp = new WindowsInformationProtectionStoreApp();
windowsInformationProtectionApp.setOdataType("microsoft.graph.windowsInformationProtectionStoreApp");
windowsInformationProtectionApp.setDisplayName("Display Name value");
windowsInformationProtectionApp.setDescription("Description value");
windowsInformationProtectionApp.setPublisherName("Publisher Name value");
windowsInformationProtectionApp.setProductName("Product Name value");
windowsInformationProtectionApp.setDenied(true);
protectedApps.add(windowsInformationProtectionApp);
mdmWindowsInformationProtectionPolicy.setProtectedApps(protectedApps);
LinkedList<WindowsInformationProtectionApp> exemptApps = new LinkedList<WindowsInformationProtectionApp>();
WindowsInformationProtectionStoreApp windowsInformationProtectionApp1 = new WindowsInformationProtectionStoreApp();
windowsInformationProtectionApp1.setOdataType("microsoft.graph.windowsInformationProtectionStoreApp");
windowsInformationProtectionApp1.setDisplayName("Display Name value");
windowsInformationProtectionApp1.setDescription("Description value");
windowsInformationProtectionApp1.setPublisherName("Publisher Name value");
windowsInformationProtectionApp1.setProductName("Product Name value");
windowsInformationProtectionApp1.setDenied(true);
exemptApps.add(windowsInformationProtectionApp1);
mdmWindowsInformationProtectionPolicy.setExemptApps(exemptApps);
LinkedList<WindowsInformationProtectionResourceCollection> enterpriseNetworkDomainNames = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection1 = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection1.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection1.setDisplayName("Display Name value");
LinkedList<String> resources1 = new LinkedList<String>();
resources1.add("Resources value");
windowsInformationProtectionResourceCollection1.setResources(resources1);
enterpriseNetworkDomainNames.add(windowsInformationProtectionResourceCollection1);
mdmWindowsInformationProtectionPolicy.setEnterpriseNetworkDomainNames(enterpriseNetworkDomainNames);
LinkedList<WindowsInformationProtectionProxiedDomainCollection> enterpriseProxiedDomains = new LinkedList<WindowsInformationProtectionProxiedDomainCollection>();
WindowsInformationProtectionProxiedDomainCollection windowsInformationProtectionProxiedDomainCollection = new WindowsInformationProtectionProxiedDomainCollection();
windowsInformationProtectionProxiedDomainCollection.setOdataType("microsoft.graph.windowsInformationProtectionProxiedDomainCollection");
windowsInformationProtectionProxiedDomainCollection.setDisplayName("Display Name value");
LinkedList<ProxiedDomain> proxiedDomains = new LinkedList<ProxiedDomain>();
ProxiedDomain proxiedDomain = new ProxiedDomain();
proxiedDomain.setOdataType("microsoft.graph.proxiedDomain");
proxiedDomain.setIpAddressOrFQDN("Ip Address Or FQDN value");
proxiedDomain.setProxy("Proxy value");
proxiedDomains.add(proxiedDomain);
windowsInformationProtectionProxiedDomainCollection.setProxiedDomains(proxiedDomains);
enterpriseProxiedDomains.add(windowsInformationProtectionProxiedDomainCollection);
mdmWindowsInformationProtectionPolicy.setEnterpriseProxiedDomains(enterpriseProxiedDomains);
LinkedList<WindowsInformationProtectionIPRangeCollection> enterpriseIPRanges = new LinkedList<WindowsInformationProtectionIPRangeCollection>();
WindowsInformationProtectionIPRangeCollection windowsInformationProtectionIPRangeCollection = new WindowsInformationProtectionIPRangeCollection();
windowsInformationProtectionIPRangeCollection.setOdataType("microsoft.graph.windowsInformationProtectionIPRangeCollection");
windowsInformationProtectionIPRangeCollection.setDisplayName("Display Name value");
LinkedList<IpRange> ranges = new LinkedList<IpRange>();
IPv6Range ipRange = new IPv6Range();
ipRange.setOdataType("microsoft.graph.iPv6Range");
ipRange.setLowerAddress("Lower Address value");
ipRange.setUpperAddress("Upper Address value");
ranges.add(ipRange);
windowsInformationProtectionIPRangeCollection.setRanges(ranges);
enterpriseIPRanges.add(windowsInformationProtectionIPRangeCollection);
mdmWindowsInformationProtectionPolicy.setEnterpriseIPRanges(enterpriseIPRanges);
mdmWindowsInformationProtectionPolicy.setEnterpriseIPRangesAreAuthoritative(true);
LinkedList<WindowsInformationProtectionResourceCollection> enterpriseProxyServers = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection2 = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection2.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection2.setDisplayName("Display Name value");
LinkedList<String> resources2 = new LinkedList<String>();
resources2.add("Resources value");
windowsInformationProtectionResourceCollection2.setResources(resources2);
enterpriseProxyServers.add(windowsInformationProtectionResourceCollection2);
mdmWindowsInformationProtectionPolicy.setEnterpriseProxyServers(enterpriseProxyServers);
LinkedList<WindowsInformationProtectionResourceCollection> enterpriseInternalProxyServers = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection3 = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection3.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection3.setDisplayName("Display Name value");
LinkedList<String> resources3 = new LinkedList<String>();
resources3.add("Resources value");
windowsInformationProtectionResourceCollection3.setResources(resources3);
enterpriseInternalProxyServers.add(windowsInformationProtectionResourceCollection3);
mdmWindowsInformationProtectionPolicy.setEnterpriseInternalProxyServers(enterpriseInternalProxyServers);
mdmWindowsInformationProtectionPolicy.setEnterpriseProxyServersAreAuthoritative(true);
LinkedList<WindowsInformationProtectionResourceCollection> neutralDomainResources = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection4 = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection4.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection4.setDisplayName("Display Name value");
LinkedList<String> resources4 = new LinkedList<String>();
resources4.add("Resources value");
windowsInformationProtectionResourceCollection4.setResources(resources4);
neutralDomainResources.add(windowsInformationProtectionResourceCollection4);
mdmWindowsInformationProtectionPolicy.setNeutralDomainResources(neutralDomainResources);
mdmWindowsInformationProtectionPolicy.setIndexingEncryptedStoresOrItemsBlocked(true);
LinkedList<WindowsInformationProtectionResourceCollection> smbAutoEncryptedFileExtensions = new LinkedList<WindowsInformationProtectionResourceCollection>();
WindowsInformationProtectionResourceCollection windowsInformationProtectionResourceCollection5 = new WindowsInformationProtectionResourceCollection();
windowsInformationProtectionResourceCollection5.setOdataType("microsoft.graph.windowsInformationProtectionResourceCollection");
windowsInformationProtectionResourceCollection5.setDisplayName("Display Name value");
LinkedList<String> resources5 = new LinkedList<String>();
resources5.add("Resources value");
windowsInformationProtectionResourceCollection5.setResources(resources5);
smbAutoEncryptedFileExtensions.add(windowsInformationProtectionResourceCollection5);
mdmWindowsInformationProtectionPolicy.setSmbAutoEncryptedFileExtensions(smbAutoEncryptedFileExtensions);
mdmWindowsInformationProtectionPolicy.setIsAssigned(true);
MdmWindowsInformationProtectionPolicy result = graphClient.deviceAppManagement().mdmWindowsInformationProtectionPolicies().byMdmWindowsInformationProtectionPolicyId("{mdmWindowsInformationProtectionPolicy-id}").patch(mdmWindowsInformationProtectionPolicy);


```